(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdba1e42"],{"01f5":function(t,e,a){},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"17b3":function(t,e,a){},"1cc1":function(t,e,a){},"25d1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"googleMap",staticClass:"map"})},r=[],i=(a("d81d"),a("a9e3"),a("b85c")),s=(a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),u=a("262e"),c=a("2caf"),d=a("9ab4"),p=a("2b0e"),f=a("2fe1"),h=a("337d"),v=function(t){Object(u["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.markers=[],t.bounds=new google.maps.LatLngBounds,t.imagePath="assets/img/pins/",t.ILocation={},t.res=!1,t}return Object(l["a"])(a,[{key:"created",value:function(){}},{key:"mounted",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initMap();case 2:return this.map=t.sent,t.next=5,this.drawMap(this.map,this.$props.locations);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"drawMap",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(a),this.buildMarkers(e,a),this.map=google.maps.event.addListener(e,"click",(function(t){n.addMarker(t.latLng,e),n.markers.addListener("click",(function(){e.setZoom(16),e.setCenter(n.markers.getPosition())}))}));case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"initMap",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.googleMap,a=this.$props.center,console.log(a),t.abrupt("return",new google.maps.Map(e,{zoom:this.$props.zoom,center:new google.maps.LatLng(a.Latitude,a.Longitude),disableDefaultUI:this.$props.disableDefaultUI,mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy",scaleControl:this.$props.scaleControl,zoomControl:this.$props.zoomControl}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"changeMark",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(JSON.stringify(a.latLng)),r=[{Latitude:n.lat,Longitude:n.lng}],t.next=4,this.drawMap(this.map,r);case 4:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"buildMarkers",value:function(t,e){this.bounds=new google.maps.LatLngBounds;var a,n=Object(i["a"])(this.$props.locations);try{for(n.s();!(a=n.n()).done;){var r=a.value;this.markers=this.constructMarker(t,r.Latitude,r.Longitude,"https://cdn0.iconfinder.com/data/icons/free-skycons-mix-april-1/128/yumminky-skycons-mix-01-512.png"),this.bounds.extend(this.markers.getPosition())}}catch(s){n.e(s)}finally{n.f()}}},{key:"constructMarker",value:function(t,e,a,n){return new google.maps.Marker({position:new google.maps.LatLng(e,a),icon:{url:n,scaledSize:new google.maps.Size(40,40)},map:t})}},{key:"addMarker",value:function(t,e){var a=JSON.parse(JSON.stringify(t));h["a"].lat=a.lat,h["a"].lng=a.lng,this.markers=new google.maps.Marker({position:t,label:"เปลี่ยน",map:e})}}]),a}(p["default"]);v=Object(d["a"])([Object(f["b"])({components:{},props:{center:{default:{Latitude:19.0308857,Longitude:99.9258682}},locations:{default:[],required:!0},disableDefaultUI:{type:Boolean,required:!0},zoom:{type:Number,required:!0,default:16},scaleControl:{type:Boolean,required:!0},zoomControl:{type:Boolean,required:!0}}})],v);var g=v,m=g,b=(a("b00d"),a("2877")),x=Object(b["a"])(m,n,r,!1,null,"1fa45df5",null);e["a"]=x.exports},"841c":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("1d80"),s=a("129f"),o=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var i=r(t),l=String(this),u=i.lastIndex;s(u,0)||(i.lastIndex=0);var c=o(i,l);return s(i.lastIndex,u)||(i.lastIndex=u),null===c?-1:c.index}]}))},"891e":function(t,e,a){"use strict";a("17b3");var n=a("9d26"),r=a("dc22"),i=a("a9ad"),s=a("de2c"),o=a("7560"),l=a("58df");e["a"]=Object(l["a"])(i["a"],Object(s["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:r["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const a=e%2===0?1:0,n=Math.floor(e/2),r=this.length-n+1+a;if(this.value>n&&this.value<r){const t=1,e=this.length,r=this.value-n+2,i=this.value+n-2-a,s=r-1===t+1?2:"...",o=i+1===e-1?i+1:"...";return[1,s,...this.range(r,i),o,this.length]}if(this.value===n){const t=this.value+n-1-a;return[...this.range(1,t),"...",this.length]}if(this.value===r){const t=this.value-n+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,n),"...",...this.range(r,this.length)]}},watch:{value(){this.init()}},mounted(){this.init()},methods:{init(){this.selected=null,this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const a=[];t=t>0?t:1;for(let n=t;n<=e;n++)a.push(n);return a},genIcon(t,e,a,r,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":i},on:a?{}:{click:r}},[t(n["a"],[e])])])},genItem(t,e){const a=e===this.value&&(this.color||"primary"),n=e===this.value,r=n?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":n,"aria-label":this.$vuetify.lang.t(r,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,a)=>t("li",{key:a},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),i=a("e8b5"),s=a("861d"),o=a("7b0b"),l=a("50c4"),u=a("8418"),c=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),h=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=f>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=d("concat"),x=function(t){if(!s(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},w=!m||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,a,n,r,i,s=o(this),d=c(s,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?s:arguments[e],x(i)){if(r=l(i.length),p+r>v)throw TypeError(g);for(a=0;a<r;a++,p++)a in i&&u(d,p,i[a])}else{if(p>=v)throw TypeError(g);u(d,p++,i)}return d.length=p,d}})},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},b00d:function(t,e,a){"use strict";a("01f5")},bd46:function(t,e,a){"use strict";a("1cc1")},c975:function(t,e,a){"use strict";var n=a("23e7"),r=a("4d64").indexOf,i=a("a640"),s=a("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),c=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(t){return l?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},db8f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-2 pt-6"},[a("Card")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"w-full"},[a("h1",{staticClass:"text-2xl font-semibold uppercase md:text-3xl p-6"},[t._v("ค้นหาใบพันธุ์ประวัติ")]),a("div",{staticClass:"flex w-full p-6"},[a("div",{staticClass:"flex "},[a("form",{staticClass:"mt-4 w-full row wrap",on:{submit:function(e){return e.preventDefault(),t.run(e)}}},[a("div",{staticClass:"flex w-full rounded-full border bg-white hover:shadow-lg"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"w-full",attrs:{type:"text",placeholder:"ค้นหา เช่น ชื่อควาย ชื่อเจ้าของ ชื่อฟาร์ม กลุ่มเกษตรกร จังหวัด อำเภอ ตำบล ของฟาร์ม"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("div",{staticClass:"ml-2"},[a("v-btn",{attrs:{type:"submit",fab:"",depressed:"",color:"orange darken-1",dark:""}},[a("v-icon",[t._v("fas fa-search")])],1)],1)])])])]),a("div",{staticClass:"flex w-full p-6"},[a("div",{staticClass:"flex  -mt-8"},[a("form",{staticClass:"w-full row wrap",on:{submit:function(e){return e.preventDefault(),t.run2(e)}}},[a("div",{staticClass:"flex w-full rounded-full border bg-white hover:shadow-lg"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],staticClass:"w-full",attrs:{type:"text",placeholder:"ค้นหา จังหวัด อำเภอ ตำบล ของฟาร์ม"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),a("div",{staticClass:"ml-2"},[a("v-btn",{attrs:{type:"submit",fab:"",depressed:"",color:"orange darken-1",dark:""}},[a("v-icon",[t._v("fas fa-search")])],1)],1)])])])])]),a("br"),a("div",{staticClass:"block w-full overflow-x-auto rounded-lg -mt-10"},[a("div",{staticClass:"flex flex-wrap mb-4"},t._l(t.buffalos.results,(function(e,n){return a("div",{key:n,staticClass:"w-full md:w-1/2 xl:w-1/3 p-3 "},[a("div",{staticClass:"border bg-white rounded-lg shadow  animate__animated animate__zoomIn "},[a("div",{staticClass:"flex-auto p-4 "},[a("div",{staticClass:"flex flex-wrap"},[a("div",{staticClass:"relative w-auto  flex-initial pt-3"},[a("div",{},[a("v-img",{staticClass:"h-24 w-24 bg-white rounded-full border",attrs:{src:t.$api+"/"+e.front_image,alt:"..."}})],1)]),a("div",{staticClass:"relative w-full pl-4 max-w-full flex-grow flex-1 text-left"},[a("span",{staticClass:"font-semibold text-xs text-gray-800"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"font-semibold text-xs text-gray-800"},[e.microship?a("div",[t._v("MC : "+t._s(e.microship))]):a("div",[t._v("MC : -")])]),a("div",{staticClass:"font-semibold text-xs text-gray-800"},[e.nid?a("div",[t._v("NID : "+t._s(e.nid))]):a("div",[t._v("NID : -")])]),a("div",{staticClass:"text-gray-500 uppercase font-bold text-xs"},[e.owner?a("div",[t._v("เจ้าของ : "+t._s(e.owner))]):a("div",[t._v("เจ้าของ : -")])]),a("div",{staticClass:"text-gray-500 uppercase font-bold text-xs"},[e.froms?a("div",[t._v("ฟาร์ม : "+t._s(e.froms))]):a("div",[t._v("ฟาร์ม : -")])]),a("div",{staticClass:"text-gray-500 uppercase font-bold text-xs"},[e.group?a("div",[t._v("กลุ่ม : "+t._s(e.group))]):a("div",[t._v("กลุ่ม : -")])]),a("div",{staticClass:"text-gray-500 uppercase font-bold text-xs"},[e.address?a("div",[t._v("ที่อยู่ : "+t._s(e.address))]):a("div",[t._v("ที่อยู่ : -")])]),a("div",{staticClass:"mt-1"},[a("v-btn",{attrs:{rounded:"",depressed:"",dark:"",color:"amber"},on:{click:function(a){return t.$router.push("buffalo/public?id="+e.id)}}},[t._v(" ดูรายละเอียด ")])],1)])])])])])})),0)]),a("div",{staticClass:"py-2 "},[a("br"),a("br"),a("v-pagination",{staticClass:"transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110",attrs:{color:"#4361EE",length:t.allPages,"total-visible":9,circle:""},on:{input:t.handlePageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("span",{staticClass:"w-auto flex justify-end items-center text-grey p-2"},[a("i",{staticClass:"fas fa-search text-xl"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("span",{staticClass:"w-auto flex justify-end items-center text-grey p-2"},[a("i",{staticClass:"fas fa-search text-xl"})])])}],o=(a("99af"),a("c975"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),l=a("d4ec"),u=a("bee2"),c=a("262e"),d=a("2caf"),p=a("9ab4"),f=a("60a3"),h=a("dcc8"),v=a("21d1"),g=a("25d1"),m=a("d4d8"),b=function(t){Object(c["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(l["a"])(this,a),t=e.apply(this,arguments),t.user={},t.farm={},t.buffalos=[],t.response=!1,t.page=1,t.allPages=1,t.search="",t.search2="",t}return Object(u["a"])(a,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.run();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"run",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].onLoad();case 2:return t.next=4,v["a"].getUser();case 4:return a=t.sent,t.next=7,h["a"].getHttp("/api/account/".concat(a.pk,"/"));case 7:return this.user=t.sent,t.next=10,h["a"].getHttp("/user/buffalo/farm/".concat(a.pk,"/"));case 10:return this.farm=t.sent,t.next=13,h["a"].getHttp("/api/buffalo/all/?search=".concat(this.search));case 13:return this.buffalos=t.sent,this.allPages=Math.ceil((null===(e=this.buffalos)||void 0===e?void 0:e.count)/12),this.response=!0,t.next=18,m["a"].offLoad();case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"run2",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].onLoad();case 2:return t.next=4,v["a"].getUser();case 4:return a=t.sent,t.next=7,h["a"].getHttp("/api/account/".concat(a.pk,"/"));case 7:return this.user=t.sent,t.next=10,h["a"].getHttp("/user/buffalo/farm/".concat(a.pk,"/"));case 10:return this.farm=t.sent,t.next=13,h["a"].getHttp("/api/buffalo/all/?search=".concat(this.search2));case 13:return this.buffalos=t.sent,this.allPages=Math.ceil((null===(e=this.buffalos)||void 0===e?void 0:e.count)/12),this.response=!0,t.next=18,m["a"].offLoad();case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handlePageChange",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].onLoad();case 2:return t.next=4,h["a"].getHttp("/api/buffalo/all/?page=".concat(e,"&search=").concat(this.search));case 4:return this.buffalos=t.sent,t.next=7,m["a"].offLoad();case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(f["c"]);b=Object(p["a"])([Object(f["a"])({components:{MapView:g["a"]},computed:{},props:{color:{default:"light",validator:function(t){return-1!==["light","dark"].indexOf(t)}}}})],b);var x=b,w=x,y=(a("bd46"),a("2877")),k=a("6544"),C=a.n(k),_=a("8336"),L=a("132d"),O=a("adda"),$=a("891e"),M=Object(y["a"])(w,i,s,!1,null,null,null),j=M.exports;C()(M,{VBtn:_["a"],VIcon:L["a"],VImg:O["a"],VPagination:$["a"]});var I={name:"search-page",components:{Card:j}},R=I,S=Object(y["a"])(R,n,r,!1,null,null,null);e["default"]=S.exports}}]);
//# sourceMappingURL=chunk-cdba1e42.31d0007e.js.map